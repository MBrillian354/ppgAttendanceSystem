import{r as t,u as g,A as h,j as e,b as f,L as j}from"./index-p3Hu8WjZ.js";import{u as N}from"./http-hook-Bc_7FVas.js";import{P as y}from"./plus-BND5EwcA.js";import"./createLucideIcon-_SAVRkLg.js";const C=()=>{const[r,p]=t.useState();t.useState(""),t.useState({title:"",message:"",onConfirm:null}),t.useState(!1);const{isLoading:x,sendRequest:n}=N();t.useState(!1),t.useState(null);const o=g(),a=t.useContext(h);t.useEffect(()=>{const s=a.userRole==="admin"?"https://ppg-academic-system-06d5f9396d18.herokuapp.com/api/teachers":`https://ppg-academic-system-06d5f9396d18.herokuapp.com/api/teachers/sub-branch/${a.userTeachingGroupId}`;console.log(s),(async()=>{try{const d=await n(s);p(d.teachers)}catch{}})()},[n]);const u=s=>s==null?void 0:s.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:"min-h-screen px-4 py-8 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Tenaga Pendidik"}),a.userRole==="admin"&&e.jsx(f,{to:"/settings/users/new",children:e.jsxs("button",{className:"button-primary pl-[12px] ",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Tambah"]})})]}),x&&e.jsx("div",{className:"flex justify-center mt-16",children:e.jsx(j,{size:32})}),r&&e.jsx("div",{className:"bg-white shadow-sm rounded-md overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:" border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NID"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),a.userRole==="admin"&&e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PC"}),a.userRole==="admin"&&e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kelompok Ajar"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.map(s=>{var i,d,m,l,c;return e.jsxs("tr",{onClick:()=>o(`/dashboard/teachers/${s._id}`),className:"hover:bg-gray-50 hover:cursor-pointer transition",children:[e.jsx("td",{className:"p-2 md:p-4",children:s.image?e.jsx("img",{src:s!=null&&s.image?`https://ppg-academic-system-06d5f9396d18.herokuapp.com/api/${s.image}`:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541",alt:s.name,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-200 text-green-500 hidden md:flex items-center justify-center font-medium",children:u(s.name)})}),e.jsxs("td",{className:"pl-2",children:[" ",e.jsx("div",{className:`py-2 px-4 text-sm text-center w-min border rounded-md ${s.positionEndDate?"text-red-500 bg-red-100":"text-green-500 bg-green-100"}`,children:s.positionEndDate?"Tidak Aktif":"Aktif"})]}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:s.nid}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:s.name}),a.userRole==="admin"&&e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:(d=(i=s==null?void 0:s.userId)==null?void 0:i.teachingGroupId)==null?void 0:d.name}),a.userRole==="admin"&&e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:(c=(l=(m=s==null?void 0:s.userId)==null?void 0:m.teachingGroupId)==null?void 0:l.branchId)==null?void 0:c.name}),e.jsx("td",{className:`p-2 md:p-4 text-sm text-gray-900 ${s.isProfileComplete?"text-green-500":"text-red-500 hover:underline cursor-pointer"}`,children:s.isProfileComplete?"Lengkap":"Lengkapi"})]},s._id)}),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"p-4 text-center italic text-gray-500",children:"Tidak ada data"})})]})]})})]})})};export{C as default};
