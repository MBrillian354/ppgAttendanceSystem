import{r as o,A as p,u as g,j as s,L as x}from"./index-DjI7ZG_S.js";import{u as f}from"./http-hook-D44mLOTF.js";import{I as m}from"./InfoCard-4PesH3Ea.js";const N=()=>{const[n,i]=o.useState(),{isLoading:l,error:d,sendRequest:r,clearError:j}=f(),u=o.useContext(p).userClassIds,h=g();return o.useEffect(()=>{(async()=>{const c="http://localhost:5000/api/classes/get-by-ids",t=JSON.stringify({classIds:u});console.log("fetching classes this teacher enrolled...");try{const a=await r(c,"POST",t,{"Content-Type":"application/json"});i(a),console.log("fetching classes complete..."),console.log(a)}catch{}})()},[r]),s.jsxs("div",{children:[d&&s.jsx(m,{className:"mx-4 mt-12",children:s.jsx("p",{children:"Belum terdaftar di kelas manapun!"})}),!n&&l&&s.jsx("div",{className:"flex justify-center mt-16",children:s.jsx(x,{size:32})}),n&&s.jsx("div",{className:"h-dvh",children:s.jsxs("ul",{className:"mt-12 p-4 space-y-2",children:[s.jsx("h2",{className:"text-lg",children:"Absen Untuk Kelas:"}),n.classes.map(e=>{var t,a;if((a=(t=e==null?void 0:e.teachingGroupYearId)==null?void 0:t.academicYearId)==null?void 0:a.isActive)return s.jsx("li",{onClick:()=>h(`/scan/class/${e._id}`),className:"border px-6 py-4 bg-white rounded-full active:ring-2 active:ring-blue-200 focus:bg-blue-200",children:e.name},e._id)})]})})]})};export{N as default};
