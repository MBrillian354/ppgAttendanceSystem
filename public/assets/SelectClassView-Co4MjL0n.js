import{r,A as h,u as g,j as s,L as x}from"./index-D_ufnm_m.js";import{u as m}from"./http-hook-Bu37qFrk.js";import{I as f}from"./InfoCard-ELmeZqpg.js";const N=()=>{const[n,o]=r.useState(),{isLoading:l,error:d,sendRequest:c,clearError:j}=m(),u=r.useContext(h).userClassIds,p=g();return r.useEffect(()=>{(async()=>{const i="https://ppgacademicsystem-production.up.railway.app/api/classes/get-by-ids",t=JSON.stringify({classIds:u});console.log("fetching classes this teacher enrolled...");try{const a=await c(i,"POST",t,{"Content-Type":"application/json"});o(a),console.log("fetching classes complete..."),console.log(a)}catch{}})()},[c]),s.jsxs("div",{children:[d&&s.jsx(f,{className:"mx-4 mt-12",children:s.jsx("p",{children:"Belum terdaftar di kelas manapun!"})}),!n&&l&&s.jsx("div",{className:"flex justify-center mt-16",children:s.jsx(x,{size:32})}),n&&s.jsx("div",{className:"h-dvh",children:s.jsxs("ul",{className:"mt-12 p-4 space-y-2",children:[s.jsx("h2",{className:"text-lg",children:"Absen Untuk Kelas:"}),n.classes.map(e=>{var t,a;if((a=(t=e==null?void 0:e.teachingGroupYearId)==null?void 0:t.academicYearId)==null?void 0:a.isActive)return s.jsx("li",{onClick:()=>p(`/scan/class/${e._id}`),className:"border px-6 py-4 bg-white rounded-full active:ring-2 active:ring-blue-200 focus:bg-blue-200",children:e.name},e._id)})]})})]})};export{N as default};
